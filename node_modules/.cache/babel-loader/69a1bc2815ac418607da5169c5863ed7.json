{"ast":null,"code":"import _regeneratorRuntime from\"/Users/youngjikim/workspace-directory/react_project-directory/nomflix-react-projext/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/youngjikim/workspace-directory/react_project-directory/nomflix-react-projext/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/youngjikim/workspace-directory/react_project-directory/nomflix-react-projext/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/youngjikim/workspace-directory/react_project-directory/nomflix-react-projext/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/youngjikim/workspace-directory/react_project-directory/nomflix-react-projext/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/youngjikim/workspace-directory/react_project-directory/nomflix-react-projext/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/youngjikim/workspace-directory/react_project-directory/nomflix-react-projext/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import DetailPresenter from\"./DetailPresenter\";import{moviesApi,tvApi}from\"../../api\";var _default=/*#__PURE__*/function(_React$Component){_inherits(_default,_React$Component);function _default(props){var _this;_classCallCheck(this,_default);_this=_possibleConstructorReturn(this,_getPrototypeOf(_default).call(this,props));var pathname=props.location.pathname;_this.state={result:null,error:null,loading:true,isMovie:pathname.includes(\"/movie/\")};return _this;}_createClass(_default,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this$props,id,push,pathname,isMovie,parsedId,result,_ref,_ref2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this$props=this.props,id=_this$props.match.params.id,push=_this$props.history.push,pathname=_this$props.location.pathname;isMovie=this.state.isMovie;parsedId=parseInt(id);if(!isNaN(parsedId)){_context.next=5;break;}return _context.abrupt(\"return\",push(\"/\"));case 5:result=null;_context.prev=6;if(!isMovie){_context.next=14;break;}_context.next=10;return moviesApi.movieDetail(parsedId);case 10:_ref=_context.sent;result=_ref.data;_context.next=18;break;case 14:_context.next=16;return tvApi.showDetail(parsedId);case 16:_ref2=_context.sent;result=_ref2.data;case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](6);this.setState({error:\"Can't find anything.\"});case 23:_context.prev=23;this.setState({loading:false,result:result});return _context.finish(23);case 26:case\"end\":return _context.stop();}}},_callee,this,[[6,20,23,26]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this$state=this.state,result=_this$state.result,error=_this$state.error,loading=_this$state.loading;return React.createElement(DetailPresenter,{result:result,error:error,loading:loading});}}]);return _default;}(React.Component);export{_default as default};","map":{"version":3,"sources":["/Users/youngjikim/workspace-directory/react_project-directory/nomflix-react-projext/src/Routes/Detail/DetailContainer.js"],"names":["React","DetailPresenter","moviesApi","tvApi","props","pathname","location","state","result","error","loading","isMovie","includes","id","match","params","push","history","parsedId","parseInt","isNaN","movieDetail","data","showDetail","setState","Component"],"mappings":"i5CAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,OAAQC,SAAR,CAAmBC,KAAnB,KAA+B,WAA/B,C,0FAGE,kBAAYC,KAAZ,CAAmB,0CACjB,0EAAMA,KAAN,GADiB,GAECC,CAAAA,QAFD,CAEcD,KAFd,CAEVE,QAFU,CAECD,QAFD,CAIjB,MAAKE,KAAL,CAAa,CACXC,MAAM,CAAE,IADG,CAEXC,KAAK,CAAE,IAFI,CAGXC,OAAO,CAAE,IAHE,CAIXC,OAAO,CAAEN,QAAQ,CAACO,QAAT,CAAkB,SAAlB,CAJE,CAAb,CAJiB,aAUlB,C,mWAIwE,KAAKR,K,CAApDS,E,aAAjBC,K,CAAQC,M,CAASF,E,CAAgBG,I,aAAVC,O,CAAUD,I,CAAkBX,Q,aAAXC,Q,CAAWD,Q,CACnDM,O,CAAW,KAAKJ,K,CAAhBI,O,CACDO,Q,CAAWC,QAAQ,CAACN,EAAD,C,KACrBO,KAAK,CAACF,QAAD,C,yDACAF,IAAI,CAAC,GAAD,C,SAETR,M,CAAS,I,qBAEPG,O,iDACsBT,CAAAA,SAAS,CAACmB,WAAV,CAAsBH,QAAtB,C,4BAAhBV,M,MAANc,I,uDAEsBnB,CAAAA,KAAK,CAACoB,UAAN,CAAiBL,QAAjB,C,6BAAhBV,M,OAANc,I,0FAGJ,KAAKE,QAAL,CAAc,CAACf,KAAK,CAAE,sBAAR,CAAd,E,yBAEA,KAAKe,QAAL,CAAc,CAACd,OAAO,CAAE,KAAV,CAAiBF,MAAM,CAANA,MAAjB,CAAd,E,0PAIK,iBAC0B,KAAKD,KAD/B,CACAC,MADA,aACAA,MADA,CACQC,KADR,aACQA,KADR,CACeC,OADf,aACeA,OADf,CAEP,MACE,qBAAC,eAAD,EACE,MAAM,CAAEF,MADV,CAEE,KAAK,CAAEC,KAFT,CAGE,OAAO,CAAEC,OAHX,EADF,CAOD,C,sBA5C0BV,KAAK,CAACyB,S","sourcesContent":["import React from \"react\";\nimport DetailPresenter from \"./DetailPresenter\";\nimport {moviesApi, tvApi} from \"../../api\";\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    const {location: {pathname}} = props;\n\n    this.state = {\n      result: null,\n      error: null,\n      loading: true,\n      isMovie: pathname.includes(\"/movie/\")\n    };\n  }\n\n\n  async componentDidMount() {\n    const {match: {params: {id}}, history: {push}, location: {pathname}} = this.props;\n    const {isMovie} = this.state;\n    const parsedId = parseInt(id);\n    if (isNaN(parsedId)) {\n      return push(\"/\");\n    }\n    let result = null;\n    try {\n      if (isMovie) {\n        ({data: result} = await moviesApi.movieDetail(parsedId));\n      } else {\n        ({data: result} = await tvApi.showDetail(parsedId));\n      }\n    } catch {\n      this.setState({error: \"Can't find anything.\"});\n    } finally {\n      this.setState({loading: false, result});\n    }\n  }\n\n  render() {\n    const {result, error, loading} = this.state;\n    return (\n      <DetailPresenter\n        result={result}\n        error={error}\n        loading={loading}\n      />\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}